# 🐍 Python Autotests: Selenium & Allure для PokemonBattle 🚀

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/)
[![Selenium](https://img.shields.io/badge/Selenium-4.0+-green.svg)](https://selenium.dev/)
[![Pytest](https://img.shields.io/badge/Pytest-Framework-orange.svg)](https://docs.pytest.org/)
[![Allure](https://img.shields.io/badge/Allure-Reports-ff69b4.svg)](https://allurereport.org/)

Набор автоматических тестов для веб-приложения PokemonBattle, включающий UI-тесты (Selenium WebDriver) и проверку API (requests). Проект настроен для генерации детальных отчетов в Allure Report.

---

## 📋 О проекте

Проект представляет собой комплексную систему автоматического тестирования, которая проверяет:
*   🔐 **Функциональность авторизации** (позитивные и негативные сценарии)
*   🌐 **Работу с API** (создание сущностей через API)
*   🔗 **Сквозную логику** (взаимодействие UI и API)
*   ✅ **Целостность данных** (соответствие данных в UI и API)

**Цель:** демонстрация навыков автоматизации тестирования на Python с использованием современных инструментов и лучших практик.

---

## 🛠 Технологический стек

*   **🐍 Язык программирования:** Python 3.8+
*   **🧪 Фреймворк для тестирования:** Pytest
*   **🌐 Браузерная автоматизация:** Selenium WebDriver 4+
*   **🔧 Управление браузером:** Chrome, ChromeDriver (через Service)
*   **📡 HTTP-запросы:** библиотека `requests`
*   **📊 Генерация отчетов:** Allure Framework
*   **📝 Логирование:** Loguru

---

## 📁 Структура проекта

```
Python_Autotests_Selenium_Allure/
│
├── 🛠 .vscode/ # Настройки IDE Visual Studio Code
│ └── settings.json # Конфигурация для запуска pytest с Allure
├── 📊 allure-2.19.0/ # Библиотека Allure Commandline (локальная копия)
│ ├── bin/
│ ├── config/
│ └── lib/
├── 📁 my_allure_results/ # Директория для сырых результатов тестов (генерируется)
│ ├── 1234567890-result.json
│ └── ...
└── 🧪 tests/ # Корневая директория с тестами
├── 🔐 auth_data.py # Конфигурационные данные (URL, учетные данные, токены)
└── 🌐 web/ # Директория веб-тестов
├── ⚙️ conftest.py # Фикстуры Pytest (настройка браузера, подготовка данных)
└── 🧪 test_pokemon_web.py # Набор тест-кейсов
```

### 📋 Пояснение структуры:

- **🛠 .vscode/**: Настройки для удобной работы в VS Code
- **📊 allure-2.19.0/**: Локальная версия Allure для генерации отчетов
- **📁 my_allure_results/**: Автоматически генерируемые результаты тестов
- **🧪 tests/**: Основная директория с тестовыми файлами
- **🔐 auth_data.py**: Файл с конфиденциальными данными и настройками
- **🌐 web/**: Директория с веб-тестами
- **⚙️ conftest.py**: Конфигурационные фикстуры Pytest
- **🧪 test_pokemon_web.py**: Основные тестовые сценарии

---

## 🧪 Описание тест-кейсов

### 1. ✅ `test_positive_login` 
**🎯 Цель:** Проверка успешного входа в систему с валидными учетными данными.

**📝 Шаги:**
*   🌐 Открыть страницу логина
*   📧 Ввести корректный email и пароль
*   🔘 Нажать кнопку "Войти"
*   ⏳ Дождаться редиректа на главную страницу
*   ✅ Проверить, что отображается правильный ID тренера

---

### 2. ❌ `test_negative_login` (5 параметризованных сценариев)
**🎯 Цель:** Проверка обработки системой некорректных попыток входа.

**🔍 Тестовые сценарии:**
*   📧 Неверный формат email
*   🔒 Неверный пароль
*   📧 Неполный email
*   ⚠️ Пустое поле email
*   ⚠️ Пустое поле пароля

**✅ Ожидаемый результат:** Появление соответствующих сообщений об ошибках.

---

### 3. 🔗 `test_check_api`
**🎯 Цель:** Комплексный сквозной тест, проверяющий интеграцию UI и API.

**📝 Шаги:**
*   🔐 Выполнить успешный вход через UI
*   📊 Запомнить количество покемонов до создания
*   🎮 Создать нового покемона через API запрос
*   🔄 Обновить страницу в UI
*   ✅ Проверить, что количество покемонов увеличилось ровно на 1


## 🔧 Фикстуры (conftest.py)

Проект использует мощные фикстуры Pytest для управления состоянием:

### 🌐 `browser`
*   **Назначение:** Запускает и закрывает экземпляр Chrome браузера
*   **Режим:** Headless (без графического интерфейса)
*   **Scope:** function (для каждого теста)
*   **Особенности:** Настроены оптимальные параметры для стабильной работы

### 🥊 `knockout`
*   **Назначение:** Подготовка чистого тестового окружения
*   **Действие:** "Нокаутирует" всех активных покемонов перед тестом
*   **Scope:** function (выполняется перед каждым тестом)
*   **Цель:** Обеспечение изолированности тестов

### 🎲 `pokemon_create_body`
*   **Назначение:** Генерация тестовых данных
*   **Формат:** Случайное имя из 12 символов
*   **Алфавит:** Русские и латинские буквы
*   **Цель:** Уникальность тестовых данных для каждого запуска

---

## 🌟 Happy Testing! 🚀

*Пусть ваши тесты будут зелеными, а баги - найденными!* 🐛➡️✅
